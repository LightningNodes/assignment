{"ast":null,"code":"import logo from'./logo.svg';import{GoogleAuthProvider,getAuth,signInWithPopup,signOut}from\"firebase/auth\";import CryptoContracts from'./Crypto';import'./App.css';import{useState}from'react';import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const provider=new GoogleAuthProvider();provider.addScope(\"https://www.googleapis.com/auth/contacts.readonly\");const auth=getAuth();const[authorizedUser,setAuthorizedUser]=useState(false||sessionStorage.getItem(\"accessToken\"));function signIn(){signInWithPopup(auth,provider).then(result=>{const credential=GoogleAuthProvider.credentialFromResult(result);const token=credential.accessToken;// The signed-in user info.\nconst user=result.user;if(user){user.getIdToken().then(tkn=>{// set access token in session storage\nsessionStorage.setItem(\"accessToken\",tkn);setAuthorizedUser(true);});}console.log(user);}).catch(error=>{const errorCode=error.code;const errorMessage=error.message;// The email of the user's account used.\nconst email=error.customData.email;// The AuthCredential type that was used.\nconst credential=GoogleAuthProvider.credentialFromError(error);});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:authorizedUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CryptoContracts,{})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:signIn,children:\"SignWithGoogle\"})})});}export default App;","map":{"version":3,"names":["logo","GoogleAuthProvider","getAuth","signInWithPopup","signOut","CryptoContracts","useState","jsx","_jsx","Fragment","_Fragment","App","provider","addScope","auth","authorizedUser","setAuthorizedUser","sessionStorage","getItem","signIn","then","result","credential","credentialFromResult","token","accessToken","user","getIdToken","tkn","setItem","console","log","catch","error","errorCode","code","errorMessage","message","email","customData","credentialFromError","className","children","onClick"],"sources":["/home/shashwat/pi42/myapp/src/App.js"],"sourcesContent":["import logo from './logo.svg';\n\nimport { GoogleAuthProvider, getAuth, signInWithPopup,signOut  } from \"firebase/auth\";\nimport CryptoContracts from './Crypto';\n\nimport './App.css';\nimport {useState} from 'react';\n\nfunction App() {\n  const provider = new GoogleAuthProvider();\n  provider.addScope(\"https://www.googleapis.com/auth/contacts.readonly\");\n  const auth = getAuth();\n  const [authorizedUser,setAuthorizedUser] = useState(false || sessionStorage.getItem(\"accessToken\"));\n\n  function signIn() {\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        const credential = GoogleAuthProvider.credentialFromResult(result);\n        const token = credential.accessToken;\n        // The signed-in user info.\n        const user = result.user;\n        if(user){\n          user.getIdToken().then((tkn)=>{\n            // set access token in session storage\n            sessionStorage.setItem(\"accessToken\", tkn);\n            setAuthorizedUser(true);\n          })}\n          console.log(user);\n      })\n      .catch((error) => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        // The email of the user's account used.\n        const email = error.customData.email;\n        // The AuthCredential type that was used.\n        const credential = GoogleAuthProvider.credentialFromError(error);\n      });\n  }\n  return (\n    <div className=\"App\">\n{authorizedUser ? (\n<><CryptoContracts /></>\n): (\n<><button onClick={signIn}>SignWithGoogle</button></>)}\n</div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,YAAY,CAE7B,OAASC,kBAAkB,CAAEC,OAAO,CAAEC,eAAe,CAACC,OAAO,KAAS,eAAe,CACrF,MAAO,CAAAC,eAAe,KAAM,UAAU,CAEtC,MAAO,WAAW,CAClB,OAAQC,QAAQ,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAX,kBAAkB,CAAC,CAAC,CACzCW,QAAQ,CAACC,QAAQ,CAAC,mDAAmD,CAAC,CACtE,KAAM,CAAAC,IAAI,CAAGZ,OAAO,CAAC,CAAC,CACtB,KAAM,CAACa,cAAc,CAACC,iBAAiB,CAAC,CAAGV,QAAQ,CAAC,KAAK,EAAIW,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAEnG,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChBhB,eAAe,CAACW,IAAI,CAAEF,QAAQ,CAAC,CAC5BQ,IAAI,CAAEC,MAAM,EAAK,CAChB,KAAM,CAAAC,UAAU,CAAGrB,kBAAkB,CAACsB,oBAAoB,CAACF,MAAM,CAAC,CAClE,KAAM,CAAAG,KAAK,CAAGF,UAAU,CAACG,WAAW,CACpC;AACA,KAAM,CAAAC,IAAI,CAAGL,MAAM,CAACK,IAAI,CACxB,GAAGA,IAAI,CAAC,CACNA,IAAI,CAACC,UAAU,CAAC,CAAC,CAACP,IAAI,CAAEQ,GAAG,EAAG,CAC5B;AACAX,cAAc,CAACY,OAAO,CAAC,aAAa,CAAED,GAAG,CAAC,CAC1CZ,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAAC,EACFc,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC,CACrB,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,EAAK,CAChB,KAAM,CAAAC,SAAS,CAAGD,KAAK,CAACE,IAAI,CAC5B,KAAM,CAAAC,YAAY,CAAGH,KAAK,CAACI,OAAO,CAClC;AACA,KAAM,CAAAC,KAAK,CAAGL,KAAK,CAACM,UAAU,CAACD,KAAK,CACpC;AACA,KAAM,CAAAhB,UAAU,CAAGrB,kBAAkB,CAACuC,mBAAmB,CAACP,KAAK,CAAC,CAClE,CAAC,CAAC,CACN,CACA,mBACEzB,IAAA,QAAKiC,SAAS,CAAC,KAAK,CAAAC,QAAA,CACvB3B,cAAc,cACfP,IAAA,CAAAE,SAAA,EAAAgC,QAAA,cAAElC,IAAA,CAACH,eAAe,GAAE,CAAC,CAAE,CAAC,cAExBG,IAAA,CAAAE,SAAA,EAAAgC,QAAA,cAAElC,IAAA,WAAQmC,OAAO,CAAExB,MAAO,CAAAuB,QAAA,CAAC,gBAAc,CAAQ,CAAC,CAAE,CAAE,CACjD,CAAC,CAEN,CAEA,cAAe,CAAA/B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}